/** @license SPA-handlebars-helpers.js | (c) Kumararaja <sucom.kumar@gmail.com> | License (MIT) */
(function(){function e(e){return Object.prototype.toString.call(e).replace(/\[object /,"").replace(/\]/,"").toLowerCase()}function t(t,r){return(""+r).toLowerCase().indexOf(e(t))>=0}function r(e,r){function n(e,t){for(var r=t.split(","),n="",a=0,o=!0,i=0;r.length>i;i++)n=r[i].trim(),n&&(a++,o=o&&e.hasOwnProperty(n));return a&&o}function a(e,t){for(var r=t.split(","),n="",a=0,o=!1,i=0;r.length>i&&(n=r[i].trim(),n&&(a++,o=o||e.hasOwnProperty(n)),!o);i++);return a&&o}var o=!1;if(t(e,"object")&&r)switch(r=""+r,!0){case r.indexOf("&")>0:o=n(e,r.replace(/\&/g,","));break;case r.indexOf("|")>0:o=a(e,r.replace(/\|/g,","));break;default:o=n(e,r)}return o}function n(e,n){return t(e,"object")&&r(e,"name,hash,data")&&r(e.data,"root")?n?e.name==n:!0:!1}function a(e){return n(e)&&r(e,"fn,inverse")}function o(e){return n(e)&&Object.keys(e.hash).length}function i(e,t){var r=o(e)?e.hash:{};return t?(Object.keys(r).forEach(function(e){t[e]=r[e].trim()}),t):r}function s(e,t){var r=o(e)?e.hash:{};return t?(Object.keys(r).forEach(function(e){t[e]=r[e]}),t):r}function c(){function t(){function t(t){if(void 0===n)n=t;else{var r=e(t);switch(e(n)){case"array":switch(r){case"array":n=n.concat(t);break;default:n.push(t)}break;case"object":switch(r){case"array":for(var a=0;t.length>a;a++)n[a]=t[a];break;case"object":Object.keys(t).forEach(function(e){n[e]=t[e]});break;default:n["_"+(Object.keys(n).length+1)]=t}break;default:switch(r){case"object":t=JSON.stringify(t);break;case"array":t=t.join()}n+=" "+t}}}var n,o,s=ut.slice.call(arguments);if(s.forEach(function(n,u){if(!o)switch(e(n)){case"function":var f=s.slice(u+1);f.push(i);var l=n.apply(void 0,f);c?r?t(l):"boolean"===e(l)?t(l?a.fn(l):a.inverse(l)):t(a.fn(l)):t(l),o=!0;break;case"array":c?r?t(n):n.length?n.forEach(function(e){t(a.fn(e))}):t(a.inverse(i)):t(n);break;case"object":c?r?t(n):Object.keys(n).length?t(a.fn(n)):t(a.inverse(i)):t(n);break;default:c?r?t(n):t(n?a.fn(i):a.inverse(i)):t(n)}}),c)return n;switch(e(n)){case"object":return JSON.stringify(n);case"array":return n.join();default:return n}}if(2>arguments.length)throw console.error("missing argument(s)"),Error("missing argument(s)");for(var r,n,a=ut.splice.call(arguments,arguments.length-1,1)[0],i=a.data.root||{},c=a.hasOwnProperty("fn")||a.hasOwnProperty("inverse"),u=":if"==a.name,f={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return t>e},">":function(e,t){return e>t},"<=":function(e,t){return t>=e},">=":function(e,t){return e>=t},":typeof":function(e,t){return typeof e===t},":instanceof":function(t,r){return e(t).toLowerCase()===(""+r).trim().toLowerCase()},":is":function(t,r){return e(t).toLowerCase()===(""+r).trim().toLowerCase()},"=ic":function(e,t){return(""+e).toLowerCase()==(""+t).toLowerCase()},"!=ic":function(e,t){return(""+e).toLowerCase()!=(""+t).toLowerCase()},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"*":function(e,t){return e*t},"/":function(e,t){return e/t}},l=Object.keys(f),g=function(e){return l.indexOf(e)>=0},p=ut.slice.call(arguments),d=0;p.length>d;d++)if("string"===e(p[d])&&(r=g(p[d])?d:0)){n=p[d];break}if(u&&(!c||!r))throw console.error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}"),Error("[Template Syntax Error] :if must have 'CONDITION' and BLOCK. use {{#:if ... 'CONDITION' ... }} ... {{else}} ... {{/:if}}");if(r){var h=p.slice(0,r),m=p.slice(r+1),b=t.apply(void 0,h),v=t.apply(void 0,m),y=f[n](b,v);if(c){var O,w=b,x=v;return o(a)&&(O=s(a),O&&((O.hasOwnProperty("thenContext")||O.hasOwnProperty("context")||O.hasOwnProperty("thenData")||O.hasOwnProperty("data"))&&(w=O.thenContext||O.context||O.thenData||O.data),(O.hasOwnProperty("elseContext")||O.hasOwnProperty("context")||O.hasOwnProperty("elseData")||O.hasOwnProperty("data"))&&(x=O.elseContext||O.context||O.elseData||O.data))),y?a.fn(w):a.inverse(x)}return y}return t.apply(void 0,arguments)}function u(t){return e(t)}function f(e,r){var o=arguments[arguments.length-1],i=n(r)?"undefined":r;return a(o)?t(e,i)?o.fn(e):o.inverse(e):t(e,i)}function l(e){return(""+(e||"")).toLowerCase()}function g(e){return(""+(e||"")).toUpperCase()}function p(e){return(""+(e||"")).toLowerCase().replace(/^(.)|\s(.)/g,function(e){return e.toUpperCase()})}function d(e){return(""+e).charAt(0).toUpperCase()+(""+e).slice(1)}function h(e){return(""+e).charAt(0).toLowerCase()+(""+e).slice(1)}function m(e){return w(e).replace(/\s+/g," ")}function b(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e.indexOf(".")>=0?e.substring(0,e.indexOf(".")):e:"0",parseInt(1*e,10)}function v(e){return e=(""+e).replace(/[^+-0123456789.]/g,""),e=e.trim().length?e:"0",parseFloat(1*e)}function y(t){switch(e(t)){case"object":return JSON.stringify(t);case"array":return t.join();default:return""+t}}function O(t){switch(e(t)){case"function":return!0;case"object":return Object.keys(t).length>0;case"array":return t.length>0;default:var r=!0;switch((""+t).trim().toLowerCase()){case"":case"0":case"-0":case"nan":case"null":case"false":case"undefined":r=!1}return r}}function w(e,r){return e=y(e),t(r,"string")?x(k(e,r),r):e.trim()}function x(e,r){return e=y(e),t(r,"string")||(r=""),e.replace(RegExp("^["+(r||"\\s")+"]+","g"),"")}function k(e,r){return e=y(e),t(r,"string")||(r=""),e.replace(RegExp("["+(r||"\\s")+"]+$","g"),"")}function j(e,r){return e=y(e),t(r,"string|number")||(r=0),"string"==typeof r&&(r=e.indexOf(r)),r=b(r),r?e.substr(0,r):""}function E(e,r){e=y(e),t(r,"string|number")||(r=0);var n=1;return"string"==typeof r&&(n=r.length,r=e.indexOf(r)),r=b(r),0>r?"":e.substr(r+n)}function C(e,r,a){return"undefined"==typeof moment?(console.warn("Missing moment.js"),e):t(a,"string")?moment(e,r).format(a):n(a)?moment(e).format(r):n(r)?moment().format(e):n(e)?moment():void 0}function M(e){function r(e){return(e>9?"":"0")+e}var n=new Date;if(!t(e,"string"))return""+n;var a=e,o=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"],s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=["Su","Mo","Tu","We","Th","Fr","Sa"],f={YYYY:n.getFullYear(),YY:n.getFullYear(),Y:n.getFullYear(),Mmmm:o[n.getMonth()],MMMM:o[n.getMonth()].toUpperCase(),Mmm:i[n.getMonth()],MMM:i[n.getMonth()].toUpperCase(),"0M":r(n.getMonth()+1,"0",2,-1),MM:n.getMonth()+1,Dddd:s[n.getDay()],DDDD:s[n.getDay()].toUpperCase(),Ddd:c[n.getDay()],DDD:c[n.getDay()].toUpperCase(),Dd:u[n.getDay()],DD:u[n.getDay()].toUpperCase(),"0d":r(n.getDate(),"0",2,-1),dd:n.getDate(),"0h":r(n.getHours(),"0",2,-1),hh:n.getHours(),"0m":r(n.getMinutes(),"0",2,-1),mm:n.getMinutes(),"0s":r(n.getSeconds(),"0",2,-1),ss:n.getSeconds(),ms:n.getMilliseconds()};return Object.keys(f).forEach(function(e){a=a.replace(e,f[e])}),a}function S(){return""+(new Date).getTime()}function D(e,r){return t(e,"number")||(e=1),t(r,"number")||(r=e+999),Math.floor(Math.random()*(r-e+1))+e}function B(e,r){t(e,"number")||(e=8),t(r,"string")||(r=""),e=e||8;for(var n=r||"9a8b77C8D9E8F7G6H5I4J3c6d5e4f32L3M4N5P6Qg2h3i4j5kV6W5X4Y3Z26m7n8p9q8r7s6t5u4v3w2x3y4z5A6BK7R8S9T8U7",a="",o=0;e>o;o++){var i=Math.floor(Math.random()*n.length);a+=n.charAt(i)}return a}function I(e){var t=arguments[arguments.length-1];return a(t)?e!==void 0?t.fn(e):t.inverse(e):e!==void 0}function L(e){var t=arguments[arguments.length-1];return a(t)?e===void 0?t.fn(e):t.inverse(e):e===void 0}function N(t){var r;if(L(t)||null===t)r=!0;else switch(e(t)){case"undefined":case"null":r=!0;break;case"function":r=!1;break;case"object":r=0==Object.keys(t).length;break;case"array":r=0==t.length;break;case"boolean":r=t;break;case"number":r=0==t;break;case"string":r=0==t.trim().length;break;default:r=!1}var n=arguments[arguments.length-1];return a(n)?r?n.fn(t):n.inverse(t):!!r}function T(e,t,r){return O(e)?t:r}function P(e,r,n){return N(e)?r:t(n,"object")&&":ifEmpty"==n.name?e:n}function F(e,r,n){return N(e)?t(n,"object")&&":ifNotEmpty"==n.name?e:n:r}function J(e,t){var r=arguments[arguments.length-1],n=f(e,"array|object")?Z(e,t):e;return a(r)?n!==void 0?r.fn(n):r.inverse(n):n}function U(e,t){var r=[];return N(e)||(r=t?e.split(t):e.indexOf(",")>0?e.split(","):e.indexOf("|")>0?e.split("|"):e.indexOf(" ")>0?e.split(" "):e.indexOf("-")>0?e.split("-"):[e]),r}function Y(e,t){var r=arguments[arguments.length-1],n=f(t,"string")?t:void 0,o=U(e,n);return a(r)?N(o)?r.inverse(e):r.fn(o):o}function A(e){var r;return t(e,"string")&&(e=e.trim(),e&&(r=Z(window,e),t(r,"function")||(r=void 0))),r}function H(){var e,r,n,o=ut.pop.call(arguments),i=ut.shift.call(arguments),s=A(i);return s&&(i.match("]$")?e=i.substring(0,i.lastIndexOf("[")):i.indexOf(".")>0&&(e=i.substring(0,i.lastIndexOf("."))),r=e?Z(window,e):window,n=s.apply(r,arguments)),a(o)?t(n,"undefined")||t(n,"boolean|number|string")&&!n||t(n,"array|object")&&spa.isBlank(n)?o.inverse(n):o.fn(n):n}function R(e,r){var n,s,c,f,l=arguments[arguments.length-1],g="",p={sortOn:"",sortBy:"",splitBy:",",alias:"",fnFilter:"",fnEmpty:"",fnEnd:"",fnError:""},d=!1,h=0;if(o(l)&&(p=i(l,p),n=A(p.fnFilter),s=A(p.fnEmpty),c=A(p.fnEnd),f=A(p.fnError)),a(l)){switch(u(e)){case"string":e=U(e,p.splitBy);case"array":if(p.sortOn||p.sortBy){var m="sortOn:"+p.sortOn.trim()+";sortBy:"+(p.sortBy||"asc").trim();e=et(e,m)}case"object":if(N(e))g+=l.inverse(e);else{var b,v=t(r,"string")&&r.trim(),y=v?U(r):p.alias?U(p.alias):["",""],O=(y[0]||"").trim(),w=(y[1]||"").trim(),x=w||"index";d=!0,Object.keys(e).forEach(function(t,r){p.key=t,b=O?{}:e[t],O&&(O&&(b[O]=e[t]),w&&(b[w]=t)),n?(p[x+"Src"]=r,n.call(void 0,b)&&(p[x]=h++,g+=l.fn(b,{data:p}))):(p[x]=h++,g+=l.fn(b,{data:p}))})}break;default:f&&f.call(void 0,e),g+=l.inverse(e)}return d&&(h?c&&c.call(void 0,e):(s&&s.call(void 0,e),g+=l.inverse(e))),g}return e}function z(r,n){function s(e,t){B.push({value:e,text:t})}function c(e,t){return l&&j.indexOf(""+x)>=0||g&&E.indexOf(""+e)>=0||p&&C.indexOf(""+t)>=0}function f(e,t){return x++,'<option value="'+e+'" '+(c(e,t)?"selected":"")+">"+t+"</option>"}var l,g,p,d,h,m,b,v,y,O=arguments[arguments.length-1],w="",x=-1,k={value:"",text:"",value_text:"",splitBy:",",vtSplit:"",sortOn:"",sortBy:"",fnFilter:"",fnEmpty:"",fnEnd:"",selIndex:"",selValue:"",selText:""},j=[],E=[],C=[],M="",S="",D="",B=[];switch(o(O)?k=i(O,k):t(n,"string")&&U(n,";").forEach(function(e){var r=e.split(":");k[r[0].trim()]=t(r[1],"undefined")?"":r[1].trim()}),j=k.selIndex?U(k.selIndex):[],E=k.selValue?U(k.selValue):[],C=k.selText?U(k.selText):[],l=j.length,g=E.length,p=C.length,M=k.value||k.value_text,S=k.text||k.value_text,D=(k.vtSplit||"").replace(/colon/gi,":"),y="index"==M.toLowerCase(),d=k.sortOn.trim(),h=k.sortBy.trim(),h&&!d&&(d="text"),d&&!h&&(k.sortBy="asc"),m=A(k.fnFilter),b=A(k.fnEmpty),v=A(k.fnEnd),t(r,"string")&&(r=U(r,k.splitBy)),u(r)){case"object":Object.keys(r).forEach(function(e){s(e,r[e])});break;case"array":r.forEach(function(t,r){switch(e(t)){case"object":var n=Object.keys(t);M&&S?s(t[M],t[S]):1==n.length&&n.forEach(function(e){s(e,t[e])});break;case"string":if(y){s(r,t);break}t=D?t.split(D):[t];case"array":M&&S?s(t[M],t[S]):1==t.length?s(t[0],t[0]):t.length>1&&s(t[0],t[1]);break;default:s(y?r:t,t)}})}if(m&&B.length){var I=[];B.forEach(function(e,r){e.index=r;var n=m.call(void 0,e);n&&I.push(t(n,"object")?n:e)}),B=I}if(B.length){if(d||h){var L="sortOn:"+d+";sortBy:"+h;B=et(B,L)}B.forEach(function(e){w+=f(e.value,e.text)}),v&&v.call(void 0,B,r)}else b&&b.call(void 0,B,r);return a(O)?w?O.fn(new Handlebars.SafeString(w)):O.inverse(this):new Handlebars.SafeString(w)}function W(){var e=c.apply(void 0,arguments);return e?"checked":""}function G(){var e=c.apply(void 0,arguments);return e?"":"checked"}function K(){var e=c.apply(void 0,arguments);return e?"disabled":""}function V(){var e=c.apply(void 0,arguments);return e?"":"disabled"}function $(){var e=c.apply(void 0,arguments);return e?"selected":""}function q(){var e=c.apply(void 0,arguments);return e?"":selected}function Q(e){if(t(e,"number"))return!0;if(t(e,"string")){var r=e.replace(/[0-9]/g,"").trim();return e.length>0&&(""==r||e.length>1&&"."==r)}return!1}function X(e){return w((e||"").replace(/]/g,"").replace(/(\[)|(\\)|(\/)/g,".").replace(/(\.+)/g,"."),"\\.")}function Z(e,t,r){for(var n=0,a=X(t).split("."),o=a.length;o>n;n++){if(!e||e===void 0)return r;e=e[a[n]]}return e===void 0?r:e}function et(r,n){function s(e,t){return t>e?-1:e>t?1:0}var c=arguments[arguments.length-1],u=[],f={sortOn:"",sortBy:"asc",splitBy:","},l=!0,g="";if(o(c)?f=i(c,f):t(n,"string")&&U(n,";").forEach(function(e){var r=e.split(":");f[r[0].trim()]=t(r[1],"undefined")?"":r[1].trim()}),l="asc"==f.sortBy.toLowerCase(),g=f.sortOn||"",t(r,"string")&&r.length>0&&(r=U(r,f.splitBy)),t(r,"array")&&r.length>0){if(1==r.length)u=r;else switch(e(r[0])){case"number":u=r.sort(function(e,t){return e-t});break;case"string":u=Q(r[0])?r.sort(function(e,t){return 1*e-1*t}):r.sort();break;case"boolean":u=r.sort(function(e,t){return s(e,t)});break;case"object":if(g)switch(e(Z(r[0],g))){case"number":u=r.sort(function(e,t){return Z(e,g)-Z(t,g)});break;case"string":u=Q(Z(r[0],g))?r.sort(function(e,t){return 1*Z(e,g)-1*Z(t,g)}):r.sort(function(e,t){return s(Z(e,g),Z(t,g))});break;case"boolean":u=r.sort(function(e,t){return s(Z(e,g),Z(t,g))});break;default:u=r}else u=r;break;default:u=r}l||(u=u.reverse())}return a(c)?u.length?c.fn(u):c.inverse(r):u}function tt(){function e(e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="[object Object]"===Object.prototype.toString.call(e[r])?tt(t[r],e[r]):e[r])}for(var t={},r=0,n=arguments.length;n>r;r++)e(arguments[r]);return t}function rt(){function r(r){if(!t(r,"undefined|null"))switch(e(n)){case"undefined":case"null":n=r;break;case"array":switch(e(r)){case"array":n=n.concat(r);break;default:n.push(r)}break;case"object":switch(e(r)){case"object":n=tt(n,r);break;default:n.hasOwnProperty("__joined__")?n.__joined__.push(r):n.__joined__=[r]}break;default:switch(e(r)){case"array":r.length&&(n+=r.join());break;case"object":Object.keys(r).length&&(n+=JSON.stringify(r));break;default:n+=""+r}}}var n,o=ut.pop.call(arguments);return ut.forEach.call(arguments,function(e){r(e)}),a(o)?o.fn(n):n}function nt(){var e=ut.pop.call(arguments),t=ut.shift.call(arguments),r=ut.join.call(arguments,t);return a(e)?e.fn(r):r}function at(){function e(r){if(r=r.trim(),!r.length)return r;var n=r[0],a=r;switch(!0){case"true"==r:a=!0;break;case"false"==r:a=!1;break;case Q(r):a=1*r;break;case"["==n:r=r.substring(1,r.lastIndexOf("]"))+",";case r.indexOf(",")>0&&0>r.indexOf("{"):var o=[];r.split(",").forEach(function(t){t=t.trim(),""!=t&&o.push(e(t))}),a=o;break;case"{"==n:r=r.substring(1,r.lastIndexOf("}"));var s,c,u={};r.split(",").forEach(function(t){t=t.trim(),s=j(t,":").trim(),c=E(t,":").trim(),s&&(u[s]=e(c))}),a=u;break;case"@"==n&&"["!=r[1]:var f=r.substring(1,r.indexOf("."));if(Q(f)){a=i[f];var l=r.indexOf(".")>0?r.substr(r.indexOf(".")+1):"";l&&t(a,"array|object")&&(a=Z(a,l))}}if(t(a,"string")&&a.indexOf("@[")>=0){var g,p,d,h,m=a.match(/(@\[\s*(.*?)\s*])/g);m&&_.forEach(m,function(e){g=e.replace(/@\[/,"").replace(/]/,""),p=g.substring(0,g.indexOf(".")),d="",Q(p)&&(d=i[p],h=g.indexOf(".")>0?g.substr(g.indexOf(".")+1):"",h&&t(d,"array|object")&&(d=Z(d,h))),a=a.replace(RegExp(e.replace(/\[/,"\\["),"g"),d)})}return a}var r=ut.pop.call(arguments),n=ut.shift.call(arguments),o={},i=ut.splice.call(arguments,0);return t(n,"string")&&U(n,";").forEach(function(t){var r=j(t,":").trim(),n=E(t,":").trim();r&&(n=e(n),o[r]=n)}),a(r)?r.fn(o):o}function ot(){var e=ut.pop.call(arguments),r=Array_.shift.call(arguments),n={};if(t(r,"string"))try{n=JSON.parse(r)}catch(o){if(a(e))return e.inverse(o)}return a(e)?e.fn(n):n}function it(){var e=ut.pop.call(arguments),t=h(e.name.replace(/:console/g,""));"time"==t&&arguments.length&&console.log.apply(void 0,arguments),0==t.indexOf("mem")?console.log(console.memory):console[t].apply(void 0,arguments)}function st(e){var t=arguments[arguments.length-1],r="",n={searchStr:"",replaceStr:"",rxPattern:"",rxOption:""};return o(t)&&(n=s(t,n)),r=n.rxPattern?(""+e).replace(RegExp(n.rxPattern,n.rxOption),n.replaceStr):(""+e).replace(n.searchStr,n.replaceStr)}function ct(e){var t=["Bytes","KB","MB","GB","TB","PB"];if(0==e)return"0";var r=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,r),2)+" "+t[r]}var ut=Array.prototype;"undefined"!=typeof Handlebars&&Handlebars&&Handlebars.registerHelper({":":c,":if":c,":is":f,":isEmpty":N,":ofType":u,":?":T,":ifEmpty":P,":ifNotEmpty":F,":of":J,":each":R,":forEach":R,":split":Y,":sort":et,":join":rt,":merge":rt,":joinWithStr":nt,":fn":H,":jsonify":at,":jsonParse":ot,":consoleClear":it,":consoleLog":it,":consoleWarn":it,":consoleInfo":it,":consoleError":it,":consoleGroup":it,":consoleGroupEnd":it,":consoleGroupCollapsed":it,":consoleMem":it,":consoleMemory":it,":consoleProfile":it,":consoleProfileEnd":it,":consoleTable":it,":consoleTime":it,":consoleTimeEnd":it,":options":z,":checkedIf":W,":checkedIfNot":G,":enabledIf":V,":enabledIfNot":K,":disabledIf":K,":disabledIfNot":V,":selectedIf":$,":selectedIfNot":q,":lower":l,":lowerCase":l,":toLowerCase":l,":lowerCaseOf":l,":upper":g,":upperCase":g,":toUpperCase":g,":upperCaseOf":g,":title":p,":titleCase":p,":toTitleCase":p,":titleCaseOf":p,":capitalize":d,":unCapitalize":h,":normalize":m,":normalizeStr":m,":int":b,":toInt":b,":intOf":b,":float":v,":toFloat":v,":floatOf":v,":toStr":y,":toString":y,":toBool":O,":toBoolean":O,":trim":w,":trimStr":w,":trimLeft":x,":trimLeftStr":x,":trimRight":k,":trimRightStr":k,":replace":st,":getLeftStr":j,":getRightStr":E,":dateNowMs":S,":dateNow":M,":moment":C,":rand":D,":randPwd":B,":ifDefined":I,":ifUndefined":L,":bytesToSize":ct})})();